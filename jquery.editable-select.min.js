/**
 * jQuery Editable
 * by Indri Muska <indrimuska@gmail.com>
 *
 * Version 1.0
 * Source on GitHub @ https://github.com/indrimuska/jquery-editable-select
 *
 * File: jquery.editable-select.min.css
 */

(function(c){c.extend(c.expr[":"],{nicontains:function(a,c,d){return!(0<=(a.textContent||a.innerText||"").toLowerCase().indexOf((d[3]||"").toLowerCase()))}});c.fn.editableSelect=function(a){var g=this.clone(),d=c('<input type="text">'),b=c('<ul class="es-list">');a=c.extend({},{effect:"default",duration:"fast",onCreate:null,onShow:null,onHide:null,onSelect:null},a);switch(a.effects){case "default":case "fade":case "slide":break;default:a.effects="default"}switch(a.duration){case !isNaN(a.duration):case "fast":case "slow":break;
default:a.duration="fast"}this.replaceWith(c('<div class="es-container">').append(d));({init:function(){var e=this;e.copyAttributes(g,d);d.after(b);b.css({top:d.position().top+d.outerHeight()-1,left:d.position().left,width:d.innerWidth()});g.find("option").each(function(){var a=c("<li>");a.text(c(this).text());e.copyAttributes(this,a);b.append(a);c(this).is(":selected")&&e.setField(e)});d.on("focus input click",e.show);c(document).click(function(a){!c(a.target).is(d)&&!c(a.target).is(b)&&e.hide()});
e.initializeList();e.initializeEvents();a.onCreate&&a.onCreate.call(this,d)},initializeList:function(){var a=this;b.find("li").each(function(){c(this).on("mousemove",function(){b.find(".selected").removeClass("selected");c(this).addClass("selected")});c(this).click(function(){a.setField.call(this,a)})});b.mouseenter(function(){b.find("li.selected").removeClass("selected")})},initializeEvents:function(){var a=this;d.bind("input keydown",function(c){switch(c.keyCode){case 40:a.show();c=0<b.find(".selected").size()?
b.find(".selected:visible").next(":visible"):b.find(":visible:first");b.find(".selected").removeClass("selected");(0<c.size()?c:b.find("li:visible:first")).addClass("selected");break;case 38:a.show();c=0<b.find(".selected").size()?b.find(".selected:visible").prev(":visible"):b.find(":visible:last");b.find(".selected").removeClass("selected");(0<c.size()?c:b.find("li:visible:last")).addClass("selected");break;case 13:b.is(":visible")&&(a.setField.call(b.find(".selected"),a),c.preventDefault());case 9:case 27:a.hide();
break;default:a.show()}})},show:function(){b.find("li").show();if(b.find("li:nicontains("+d.val()+")").hide().size()==b.find("li").size())b.hide();else switch(a.effects){case "fade":b.fadeIn(a.duration);break;case "slide":b.slideDown(a.duration);break;default:b.show(a.duration)}a.onShow&&a.onShow.call(this,d)},hide:function(){switch(a.effects){case "fade":b.fadeOut(a.duration);break;case "slide":b.slideUp(a.duration);break;default:b.hide(a.duration)}a.onHide&&a.onHide.call(this,d)},copyAttributes:function(a,
b){var d=c(a)[0].attributes,f;for(f in d)c(b).attr(d[f].nodeName,d[f].nodeValue)},setField:function(b){if(!c(this).is(":visible"))return!1;d.val(c(this).text());b.hide();a.onSelect&&a.onSelect.call(this,d)}}).init()}})(jQuery);